<h1>Contact us</h1>

<form *ngIf="!success" [formGroup]="emailForm" (ngSubmit)="onSubmit()">

    <!-- <h5 *ngIf="success">Your form is valid!</h5> -->

    <label>
      Email:
      <input type="text" formControlName="email">
      <div *ngIf="submitted && emailForm.controls.email.errors" class="error">
        <div *ngIf="emailForm.controls.email.errors.required">Your name is required</div>
        <div *ngIf="emailForm.controls.email.errors.email">Please provide a valid email</div>
      </div>
    </label>
  
    <label>
      Message:
      <textarea formControlName="message"></textarea>
      <div *ngIf="submitted && emailForm.controls.message.errors" class="error">
        <div *ngIf="emailForm.controls.message.errors.required">A message is required</div>
      </div>
    </label>

    <input type="submit" value="Send message" class="cta">
  
  </form>

  <div *ngIf="success" class="results">
    <p>Thank you for your email. Someone will be in touch soon.</p>
    <strong>email:</strong> 
    <span>{{ emailForm.controls.email.value }}</span>

    <strong>Message:</strong> 
    <span>{{ emailForm.controls.message.value }}</span>
  </div>